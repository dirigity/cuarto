<html>
    <head>
        <style>
            img{
                position: absolute;
            }
            #piano{
                left: 10%;
                right: 30%;
                bottom: 3%;
                width: 80%;
                height: 20%;
            }
            #ball{
                width: 10%;
            }
        </style>
    </head>
    <body>
        
            <img id= "piano" src="piano.png" alt="imagine a piano">
            <img id= "ball" src="vinilo-infantil-pelota-futbol-color-1399.png" alt="imagine a ball">

        <Script>
            var Places = [0,3,4,2,0];
            var times = [1,2,2,3,2];
            var yposible = 410;
            var xposible = [88,148,198,258,318,408,468,518,568,628,678,784];
            
            var x = 8;
            var y = yposible;
            var gravedad = 1000;
            var vx = 0;
            var vy = -0;
            var unopartidodefremeporsecond = 0.01;
            var ball = document.getElementById("ball");
            

            document.onkeydown = checkKey;
            function checkKey(e) {

                e = e || window.event;

                if (e.keyCode == '32') {
                    Start();
                }
            }

            function Start(){
                tick();
                tocar(0);
            }

            function tocar(a){
                var pitch = Places[a];
                var time = times[a];
                var pixelsToCover = xposible[pitch]-x;
                var velocidadInsty = -700;
                var tiempoTonextcrush = -2*velocidadInsty/1000;
                var velocidadInstx = tiempoTonextcrush/pixelsToCover;
                vx = velocidadInstx;
                vy = velocidadInsty;
                console.log("jump?");


                if(a < Places.length){
                    setTimeout(function() {return tocar(a+1)}, time*1000);
                }
            }

            function tick(){
                
                if(y+vy*unopartidodefremeporsecond < yposible){
                    x = x + vx*unopartidodefremeporsecond;
                    y = y + vy*unopartidodefremeporsecond;
                    vy = vy + gravedad*unopartidodefremeporsecond;

                }else{
                    y = yposible;
                    vy = 0;
                    vx = 0;
                    //console.log("chush",ball.style.top+vy);

                }
                ball.style.top = y;
                ball.style.left = x;
                //console.log(getPosition(ball),y,x)

                setTimeout(function() {return tick()}, unopartidodefremeporsecond*1000);
            }


            
            function getPosition(el) {
                return {
                    x: ball.style.top,
                    y: ball.offsetLeft
                };
            }
        </Script>
    </body>
</html>            