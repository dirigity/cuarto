<html>
    <head>
        <style>
             canvas {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>  
        <canvas id="canvas" width="1000" height="500"></canvas>
        <script>
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            var text = "o";
            text = text.toLowerCase();
            var pantalla = [];
            var mapaDeProfundidades = [];
            var letras = {
                espacio:[
                    ["       "],
                    ["       "],
                    ["       "],
                    ["       "],
                    ["       "],
                    ["       "],
                    ["       "],
                    ["       "],
                ],
                a:[
                    ["   +++     "],
                    ["  +++++    "],
                    [" +++ +++   "],
                    ["+++   +++  "],
                    ["+++++++++  "],
                    ["+++++++++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                ],
                b:[ 
                    ["++++++++   "],
                    ["++    +++  "],
                    ["++    +++  "],
                    ["++++++++   "],
                    ["++++++++   "],
                    ["++    +++  "],
                    ["++    +++  "],
                    ["++++++++   "],
                ],
                c:[
                    [" ++++++ "],
                    ["+++++++ "],
                    ["+++     "],
                    ["++      "],
                    ["++      "],
                    ["+++     "],
                    ["+++++++ "],
                    [" ++++++ "],
                ],
                d:[
                    ["+++++++    "],
                    ["+++++++++  "],
                    ["++    +++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++    +++  "],
                    ["+++++++++  "],
                    ["+++++++    "],
                ],
                e:[
                    ["++++++++  "],
                    ["++++++++  "],
                    ["++        "],
                    ["++++++    "],
                    ["++++++    "],
                    ["++        "],
                    ["++++++++  "],
                    ["++++++++  "],
                ],
                f:[
                    ["+++++++++  "],
                    ["+++++++++  "],
                    ["++         "],
                    ["++++++     "],
                    ["++++++     "],
                    ["++         "],
                    ["++         "],
                    ["++         "],
                ],
                g:[
                    [" +++++++   "],
                    ["+++   +++  "],
                    ["++     ++  "],
                    ["++         "],
                    ["++   ++++  "],
                    ["++     ++  "],
                    ["+++   +++  "],
                    [" +++++++   "],
                ],
                h:[
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["+++++++++  "],
                    ["+++++++++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                ],
                i:[
                    [" ++  "],
                    ["     "],
                    ["+++  "],
                    [" ++  "],
                    [" ++  "],
                    [" ++  "],
                    [" ++  "],
                    [" ++  "],
                ],
                j:[
                    ["+++++++++++  "],
                    ["+++++++++++  "],
                    ["       ++    "],
                    ["       ++    "],
                    ["       ++    "],
                    ["++     ++    "],
                    ["++     ++    "],
                    [" +++++++     "],
                ],
                k:[
                    ["++     ++  "],
                    ["++    ++   "],
                    ["++   ++    "],
                    ["++++++     "],
                    ["++++++     "],
                    ["++   ++    "],
                    ["++    ++   "],
                    ["++     ++  "],
                ],
                l:[
                    ["++         "],
                    ["++         "],
                    ["++         "],
                    ["++         "],
                    ["++         "],
                    ["++         "],
                    ["+++++++++  "],
                    ["+++++++++  "],
                ],
                m:[
                    ["++      ++  "],
                    ["+++    +++  "],
                    ["++++  ++++  "],
                    ["++ ++++ ++  "],
                    ["++  ++  ++  "],
                    ["++      ++  "],
                    ["++      ++  "],
                    ["++      ++  "],
                ],
                n:[
                    ["+++     ++  "],
                    ["++++    ++  "],
                    ["+++++   ++  "],
                    ["++ +++  ++  "],
                    ["++  +++ ++  "],
                    ["++   +++++  "],
                    ["++    ++++  "],
                    ["++     +++  "],
                ],
                o:[
                    [" +++++++   "],
                    ["+++++++++  "],
                    ["+++   +++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["+++   +++  "],
                    ["+++++++++  "],
                    [" +++++++   "],
                ],
                p:[
                    ["++++++++   "],
                    ["++    +++  "],
                    ["++     ++  "],
                    ["++    +++  "],
                    ["++++++++   "],
                    ["++         "],
                    ["++         "],
                    ["++         "],
                ],
                q:[
                    [" +++++++   "],
                    ["+++++++++  "],
                    ["+++   +++  "],
                    ["++     ++  "],
                    ["++    +++  "],
                    ["+++   +++  "],
                    ["++++++++++ "],
                    [" ++++++ ++ "],
                ],
                r:[
                    ["++++++++   "],
                    ["++    +++  "],
                    ["++     ++  "],
                    ["++    +++  "],
                    ["++++++++   "],
                    ["++   ++    "],
                    ["++    ++   "],
                    ["++     ++  "],
                ],
                s:[
                    [" +++++++   "],
                    ["++++++++   "],
                    ["++         "],
                    ["++++++++   "],
                    [" ++++++++  "],
                    ["       ++  "],
                    [" ++++++++  "],
                    [" +++++++   "],
                ],
                t:[
                    ["++++++++ "],
                    ["++++++++ "],
                    ["   ++    "],
                    ["   ++    "],
                    ["   ++    "],
                    ["   ++    "],
                    ["   ++    "],
                    ["   ++    "],
                ],
                u:[
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    ["+++   +++  "],
                    ["+++++++++  "],
                    [" +++++++   "],
                ],
                v:[
                    ["++     ++  "],
                    ["++     ++  "],
                    ["++     ++  "],
                    [" ++   ++   "],
                    [" ++   ++   "],
                    [" ++   ++   "],
                    ["  +++++    "],
                    ["   +++     "],
                ],
                w:[
                    ["++               ++  "],
                    ["++               ++  "],
                    ["++      +++      ++  "],
                    ["+++    +++++    +++  "],
                    [" ++   ++   ++   ++   "],
                    [" +++ +++   +++ +++   "],
                    ["  +++++     +++++    "],
                    ["   +++       +++     "],
                ],
                x:[
                    ["++     ++  "],
                    [" ++   ++   "],
                    ["  ++ ++    "],
                    ["   +++     "],
                    ["   +++     "],
                    ["  ++ ++    "],
                    [" ++   ++   "],
                    ["++     ++  "],
                ],
                y:[
                    ["++    ++  "],
                    [" ++  ++   "],
                    ["  ++++    "],
                    ["   ++     "],
                    ["   ++     "],
                    ["   ++     "],
                    ["   ++     "],
                    ["   ++     "],
                ],
                z:[
                    ["+++++++++  "],
                    ["++++++++   "],
                    ["     ++    "],
                    ["    ++     "],
                    ["   ++      "],
                    ["  ++       "],
                    [" ++++++++  "],
                    ["+++++++++  "],
                ],
                


            }
            function rgb(r,g,b) {
                var r_ = check(decToHex(r));
                var g_ = check(decToHex(g));
                var b_ = check(decToHex(b));
                return "#"+r_+g_+b_;
            }

            function decToHex(n) {
                if(n<0){
                    n = 0xFFFFFFFF + n + 1;
                }
                return Math.round(n).toString(16).toUpperCase();
            }

            function check(n){
                //console.log(n)
                if(n.length>2){
                    return "FF";
                }else if (n.length<2){
                    return "0"+n;

                }else return n
            }
            render();
            function startPatern(params) {
                for (let row = 0; row <24; row++) {
                    let fila = []
                   
                    var repetible = []
                    for (let index = 0; index < 6; index++) {
                        repetible.push(rgb(Math.round(Math.random()*200),Math.round(Math.random()*200),Math.round(Math.random()*200)))
                        
                    }
                    fila = repetible.slice(0);
                    for (let index = 0; index < 200; index++) {
                        if(!fila[index]){
                            fila[index]=fila[index-6];
                        }
                        
                    }
                    fila.push(rgb(Math.round(Math.random()*200),Math.round(Math.random()*200),Math.round(Math.random()*200)));
                
                    pantalla.push(fila);
                }
            }
            function render(){
                startPatern();
                for (let row = 0; row < 24; row++) {
                    let wippingrowBinaria = "     ";
                    for (let letra = 0; letra < text.length; letra++) {
                        const element = text.substr(letra,1);
                        console.log(element);
                        if(element == " "){
                            wippingrowBinaria = wippingrowBinaria + letras["espacio"][row-2];
                        }else {
                            wippingrowBinaria = wippingrowBinaria + letras[element][row-2];
                        }
                    }
                    //wippingrowBinaria es ahora mismo "    ++  ++ ++ + ++" o algo asi 
                    mapaDeProfundidades[row] = [];                   
                    for (let index = 0; index < wippingrowBinaria.length; index++) {
                        const element = wippingrowBinaria.substr(index,1);
                        
                        if (element == "+") {
                            mapaDeProfundidades[row][index] = 2;
                        }else mapaDeProfundidades[row][index] = 0;
                    }
                    //acabo de pasar el wippingrowBinaria a el mapa de profundidades
                }
                //tengo el mapa de profundidades
                //console.log(mapaDeProfundidades);
                //console.log(pantalla);

                for (let y = 0; y < mapaDeProfundidades.length*2; y++) {
                    const row = mapaDeProfundidades[Math.round(y)];

                    for (let x = 0; x < row.length*2; x++) {
                        xp = x;
                        yp = y;
                        const profundidad = row[Math.round(x)];
                        console.log(pantalla);
                        console.log(xp,yp,row.length);
                        pantalla[yp][xp] = pantalla[yp][xp-profundidad];
                        
                    }
                }

                for (let row = 0; row < pantalla.length; row++) {
                    const element = Array.from(pantalla[row]);
                    for (let x = 0; x < element.length; x++) {
                        pixel = element[x];
                        drawXYcuadr(x*20,row*20,20,pixel);                        
                    }
                }
                
            }
            
        </script>
    </body>
</html>

